---

title: modeling.seq2seq.translation


keywords: fastai
sidebar: home_sidebar

summary: "This module contains custom models, custom splitters, etc... translation tasks."
description: "This module contains custom models, custom splitters, etc... translation tasks."
nb_path: "nbs/12_modeling-seq2seq-translation.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/12_modeling-seq2seq-translation.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">torch</span><span class="o">.</span><span class="n">cuda</span><span class="o">.</span><span class="n">set_device</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Using GPU #</span><span class="si">{</span><span class="n">torch</span><span class="o">.</span><span class="n">cuda</span><span class="o">.</span><span class="n">current_device</span><span class="p">()</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="n">torch</span><span class="o">.</span><span class="n">cuda</span><span class="o">.</span><span class="n">get_device_name</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Using GPU #1: GeForce GTX 1080 Ti
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Translation">Translation<a class="anchor-link" href="#Translation"> </a></h2><p>Translation tasks attempt to convert text in one language into another</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Prepare-the-data">Prepare the data<a class="anchor-link" href="#Prepare-the-data"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s1">&#39;wmt16&#39;</span><span class="p">,</span> <span class="s1">&#39;de-en&#39;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s1">&#39;train[:1%]&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Reusing dataset wmt16 (/home/wgilliam/.cache/huggingface/datasets/wmt16/de-en/1.0.0/0d9fb3e814712c785176ad8cdb9f465fbe6479000ee6546725db30ad8a8b5f8a)
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;./&#39;</span><span class="p">)</span>
<span class="n">wmt_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">ds</span><span class="p">[</span><span class="s1">&#39;translation&#39;</span><span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;de&#39;</span><span class="p">,</span> <span class="s1">&#39;en&#39;</span><span class="p">]);</span> <span class="nb">len</span><span class="p">(</span><span class="n">wmt_df</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>45489</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">wmt_df</span> <span class="o">=</span> <span class="n">wmt_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">1000</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">wmt_df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>de</th>
      <th>en</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Wiederaufnahme der Sitzungsperiode</td>
      <td>Resumption of the session</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Ich erkläre die am Freitag, dem 17. Dezember unterbrochene Sitzungsperiode des Europäischen Parlaments für wiederaufgenommen, wünsche Ihnen nochmals alles Gute zum Jahreswechsel und hoffe, daß Sie schöne Ferien hatten.</td>
      <td>I declare resumed the session of the European Parliament adjourned on Friday 17 December 1999, and I would like once again to wish you a happy new year in the hope that you enjoyed a pleasant festive period.</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pretrained_model_name</span> <span class="o">=</span> <span class="s2">&quot;facebook/bart-large-cnn&quot;</span>
<span class="n">model_cls</span> <span class="o">=</span> <span class="n">AutoModelForSeq2SeqLM</span>

<span class="n">hf_arch</span><span class="p">,</span> <span class="n">hf_config</span><span class="p">,</span> <span class="n">hf_tokenizer</span><span class="p">,</span> <span class="n">hf_model</span> <span class="o">=</span> <span class="n">BLURR</span><span class="o">.</span><span class="n">get_hf_objects</span><span class="p">(</span><span class="n">pretrained_model_name</span><span class="p">,</span> <span class="n">model_cls</span><span class="o">=</span><span class="n">model_cls</span><span class="p">)</span>
<span class="n">hf_arch</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">hf_tokenizer</span><span class="p">),</span> <span class="nb">type</span><span class="p">(</span><span class="n">hf_config</span><span class="p">),</span> <span class="nb">type</span><span class="p">(</span><span class="n">hf_model</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(&#39;bart&#39;,
 transformers.models.bart.tokenization_bart_fast.BartTokenizerFast,
 transformers.models.bart.configuration_bart.BartConfig,
 transformers.models.bart.modeling_bart.BartForConditionalGeneration)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">blocks</span> <span class="o">=</span> <span class="p">(</span><span class="n">HF_Seq2SeqBlock</span><span class="p">(</span><span class="n">hf_arch</span><span class="p">,</span> <span class="n">hf_config</span><span class="p">,</span> <span class="n">hf_tokenizer</span><span class="p">,</span> <span class="n">hf_model</span><span class="p">),</span> <span class="n">noop</span><span class="p">)</span>
<span class="n">dblock</span> <span class="o">=</span> <span class="n">DataBlock</span><span class="p">(</span><span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span> <span class="n">get_x</span><span class="o">=</span><span class="n">ColReader</span><span class="p">(</span><span class="s1">&#39;de&#39;</span><span class="p">),</span> <span class="n">get_y</span><span class="o">=</span><span class="n">ColReader</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">),</span> <span class="n">splitter</span><span class="o">=</span><span class="n">RandomSplitter</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dls</span> <span class="o">=</span> <span class="n">dblock</span><span class="o">.</span><span class="n">dataloaders</span><span class="p">(</span><span class="n">wmt_df</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">b</span> <span class="o">=</span> <span class="n">dls</span><span class="o">.</span><span class="n">one_batch</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">),</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;input_ids&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(2, torch.Size([2, 325]), torch.Size([2, 115]))</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dls</span><span class="o">.</span><span class="n">show_batch</span><span class="p">(</span><span class="n">dataloaders</span><span class="o">=</span><span class="n">dls</span><span class="p">,</span> <span class="n">max_n</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">input_trunc_at</span><span class="o">=</span><span class="mi">250</span><span class="p">,</span> <span class="n">target_trunc_at</span><span class="o">=</span><span class="mi">250</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>text</th>
      <th>target</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>&lt;s&gt; Angesichts dieser Situation muß aus dem Bericht, den das Parlament annimmt, klar hervorgehen, daß Maßnahmen notwendig sind, die eindeutig auf die Bekämpfung der relativen Armut und der Arbeitslosigkeit gerichtet sind. Maßnahmen wie die für diese</td>
      <td>Given this situation, the report approved by Parliament must highlight the need for measures that aim unequivocally to fight relative poverty and unemployment: measures such as the appropriate use of structural funds for these purposes, which are of</td>
    </tr>
    <tr>
      <th>1</th>
      <td>&lt;s&gt; In unseren Änderungsanträgen haben wir festgeschrieben, welche Bedeutung wir der Herausbildung der notwendigen Synergien zwischen den Strukturfonds, dem Kohäsionsfonds und den Gemeinschaftsinitiativen beimessen, so daß ihre Anwendung auf optimale</td>
      <td>In our amendments, we have stated the importance of the necessary synergies being produced between the Structural Funds, the Cohesion Fund and Community initiatives, so that their application should be reflected, in the best and most profitable way,</td>
    </tr>
  </tbody>
</table>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Train-model">Train model<a class="anchor-link" href="#Train-model"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">seq2seq_metrics</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;bleu&#39;</span><span class="p">:</span> <span class="p">{</span> <span class="s1">&#39;returns&#39;</span><span class="p">:</span> <span class="s2">&quot;bleu&quot;</span> <span class="p">},</span>
    <span class="s1">&#39;meteor&#39;</span><span class="p">:</span> <span class="p">{</span> <span class="s1">&#39;returns&#39;</span><span class="p">:</span> <span class="s2">&quot;meteor&quot;</span> <span class="p">},</span>
    <span class="s1">&#39;sacrebleu&#39;</span><span class="p">:</span> <span class="p">{</span> <span class="s1">&#39;returns&#39;</span><span class="p">:</span> <span class="s2">&quot;score&quot;</span> <span class="p">}</span>
<span class="p">}</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">HF_BaseModelWrapper</span><span class="p">(</span><span class="n">hf_model</span><span class="p">)</span>

<span class="n">learn_cbs</span> <span class="o">=</span> <span class="p">[</span><span class="n">HF_BaseModelCallback</span><span class="p">]</span>
<span class="n">fit_cbs</span> <span class="o">=</span> <span class="p">[</span><span class="n">HF_Seq2SeqMetricsCallback</span><span class="p">(</span><span class="n">custom_metrics</span><span class="o">=</span><span class="n">seq2seq_metrics</span><span class="p">)]</span>

<span class="n">learn</span> <span class="o">=</span> <span class="n">Learner</span><span class="p">(</span><span class="n">dls</span><span class="p">,</span> 
                <span class="n">model</span><span class="p">,</span>
                <span class="n">opt_func</span><span class="o">=</span><span class="n">partial</span><span class="p">(</span><span class="n">Adam</span><span class="p">),</span>
                <span class="n">loss_func</span><span class="o">=</span><span class="n">CrossEntropyLossFlat</span><span class="p">(),</span> <span class="c1">#HF_PreCalculatedLoss()</span>
                <span class="n">cbs</span><span class="o">=</span><span class="n">learn_cbs</span><span class="p">,</span>
                <span class="n">splitter</span><span class="o">=</span><span class="n">partial</span><span class="p">(</span><span class="n">seq2seq_splitter</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="n">hf_arch</span><span class="p">))</span> <span class="c1">#.to_native_fp16() #.to_fp16()</span>

<span class="n">learn</span><span class="o">.</span><span class="n">freeze</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>[nltk_data] Downloading package wordnet to /home/wgilliam/nltk_data...
[nltk_data]   Package wordnet is already up-to-date!
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">learn</span><span class="o">.</span><span class="n">blurr_summary</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">

</div>

</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>HF_BaseModelWrapper (Input shape: 2)
============================================================================
Layer (type)         Output Shape         Param #    Trainable 
============================================================================
                     2 x 86 x 1024       
Embedding                                 51470336   False     
Embedding                                 51470336   False     
____________________________________________________________________________
                     2 x 1024            
BartLearnedPositionalEmbedding                      1050624    False     
Linear                                    1049600    False     
Linear                                    1049600    False     
Linear                                    1049600    False     
Linear                                    1049600    False     
LayerNorm                                 2048       True      
____________________________________________________________________________
                     2 x 325 x 4096      
Linear                                    4198400    False     
____________________________________________________________________________
                     2 x 325 x 1024      
Linear                                    4195328    False     
LayerNorm                                 2048       True      
Linear                                    1049600    False     
Linear                                    1049600    False     
Linear                                    1049600    False     
Linear                                    1049600    False     
LayerNorm                                 2048       True      
____________________________________________________________________________
                     2 x 325 x 4096      
Linear                                    4198400    False     
____________________________________________________________________________
                     2 x 325 x 1024      
Linear                                    4195328    False     
LayerNorm                                 2048       True      
Linear                                    1049600    False     
Linear                                    1049600    False     
Linear                                    1049600    False     
Linear                                    1049600    False     
LayerNorm                                 2048       True      
____________________________________________________________________________
                     2 x 325 x 4096      
Linear                                    4198400    False     
____________________________________________________________________________
                     2 x 325 x 1024      
Linear                                    4195328    False     
LayerNorm                                 2048       True      
Linear                                    1049600    False     
Linear                                    1049600    False     
Linear                                    1049600    False     
Linear                                    1049600    False     
LayerNorm                                 2048       True      
____________________________________________________________________________
                     2 x 325 x 4096      
Linear                                    4198400    False     
____________________________________________________________________________
                     2 x 325 x 1024      
Linear                                    4195328    False     
LayerNorm                                 2048       True      
Linear                                    1049600    False     
Linear                                    1049600    False     
Linear                                    1049600    False     
Linear                                    1049600    False     
LayerNorm                                 2048       True      
____________________________________________________________________________
                     2 x 325 x 4096      
Linear                                    4198400    False     
____________________________________________________________________________
                     2 x 325 x 1024      
Linear                                    4195328    False     
LayerNorm                                 2048       True      
Linear                                    1049600    False     
Linear                                    1049600    False     
Linear                                    1049600    False     
Linear                                    1049600    False     
LayerNorm                                 2048       True      
____________________________________________________________________________
                     2 x 325 x 4096      
Linear                                    4198400    False     
____________________________________________________________________________
                     2 x 325 x 1024      
Linear                                    4195328    False     
LayerNorm                                 2048       True      
Linear                                    1049600    False     
Linear                                    1049600    False     
Linear                                    1049600    False     
Linear                                    1049600    False     
LayerNorm                                 2048       True      
____________________________________________________________________________
                     2 x 325 x 4096      
Linear                                    4198400    False     
____________________________________________________________________________
                     2 x 325 x 1024      
Linear                                    4195328    False     
LayerNorm                                 2048       True      
Linear                                    1049600    False     
Linear                                    1049600    False     
Linear                                    1049600    False     
Linear                                    1049600    False     
LayerNorm                                 2048       True      
____________________________________________________________________________
                     2 x 325 x 4096      
Linear                                    4198400    False     
____________________________________________________________________________
                     2 x 325 x 1024      
Linear                                    4195328    False     
LayerNorm                                 2048       True      
Linear                                    1049600    False     
Linear                                    1049600    False     
Linear                                    1049600    False     
Linear                                    1049600    False     
LayerNorm                                 2048       True      
____________________________________________________________________________
                     2 x 325 x 4096      
Linear                                    4198400    False     
____________________________________________________________________________
                     2 x 325 x 1024      
Linear                                    4195328    False     
LayerNorm                                 2048       True      
Linear                                    1049600    False     
Linear                                    1049600    False     
Linear                                    1049600    False     
Linear                                    1049600    False     
LayerNorm                                 2048       True      
____________________________________________________________________________
                     2 x 325 x 4096      
Linear                                    4198400    False     
____________________________________________________________________________
                     2 x 325 x 1024      
Linear                                    4195328    False     
LayerNorm                                 2048       True      
Linear                                    1049600    False     
Linear                                    1049600    False     
Linear                                    1049600    False     
Linear                                    1049600    False     
LayerNorm                                 2048       True      
____________________________________________________________________________
                     2 x 325 x 4096      
Linear                                    4198400    False     
____________________________________________________________________________
                     2 x 325 x 1024      
Linear                                    4195328    False     
LayerNorm                                 2048       True      
Linear                                    1049600    False     
Linear                                    1049600    False     
Linear                                    1049600    False     
Linear                                    1049600    False     
LayerNorm                                 2048       True      
____________________________________________________________________________
                     2 x 325 x 4096      
Linear                                    4198400    False     
____________________________________________________________________________
                     2 x 325 x 1024      
Linear                                    4195328    False     
LayerNorm                                 2048       True      
LayerNorm                                 2048       True      
____________________________________________________________________________
                     2 x 86 x 1024       
Embedding                                 51470336   False     
____________________________________________________________________________
                     2 x 1024            
BartLearnedPositionalEmbedding                      1050624    False     
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
LayerNorm                                 2048       True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
LayerNorm                                 2048       True      
____________________________________________________________________________
                     2 x 86 x 4096       
Linear                                    4198400    True      
____________________________________________________________________________
                     2 x 86 x 1024       
Linear                                    4195328    True      
LayerNorm                                 2048       True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
LayerNorm                                 2048       True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
LayerNorm                                 2048       True      
____________________________________________________________________________
                     2 x 86 x 4096       
Linear                                    4198400    True      
____________________________________________________________________________
                     2 x 86 x 1024       
Linear                                    4195328    True      
LayerNorm                                 2048       True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
LayerNorm                                 2048       True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
LayerNorm                                 2048       True      
____________________________________________________________________________
                     2 x 86 x 4096       
Linear                                    4198400    True      
____________________________________________________________________________
                     2 x 86 x 1024       
Linear                                    4195328    True      
LayerNorm                                 2048       True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
LayerNorm                                 2048       True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
LayerNorm                                 2048       True      
____________________________________________________________________________
                     2 x 86 x 4096       
Linear                                    4198400    True      
____________________________________________________________________________
                     2 x 86 x 1024       
Linear                                    4195328    True      
LayerNorm                                 2048       True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
LayerNorm                                 2048       True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
LayerNorm                                 2048       True      
____________________________________________________________________________
                     2 x 86 x 4096       
Linear                                    4198400    True      
____________________________________________________________________________
                     2 x 86 x 1024       
Linear                                    4195328    True      
LayerNorm                                 2048       True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
LayerNorm                                 2048       True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
LayerNorm                                 2048       True      
____________________________________________________________________________
                     2 x 86 x 4096       
Linear                                    4198400    True      
____________________________________________________________________________
                     2 x 86 x 1024       
Linear                                    4195328    True      
LayerNorm                                 2048       True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
LayerNorm                                 2048       True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
LayerNorm                                 2048       True      
____________________________________________________________________________
                     2 x 86 x 4096       
Linear                                    4198400    True      
____________________________________________________________________________
                     2 x 86 x 1024       
Linear                                    4195328    True      
LayerNorm                                 2048       True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
LayerNorm                                 2048       True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
LayerNorm                                 2048       True      
____________________________________________________________________________
                     2 x 86 x 4096       
Linear                                    4198400    True      
____________________________________________________________________________
                     2 x 86 x 1024       
Linear                                    4195328    True      
LayerNorm                                 2048       True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
LayerNorm                                 2048       True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
LayerNorm                                 2048       True      
____________________________________________________________________________
                     2 x 86 x 4096       
Linear                                    4198400    True      
____________________________________________________________________________
                     2 x 86 x 1024       
Linear                                    4195328    True      
LayerNorm                                 2048       True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
LayerNorm                                 2048       True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
LayerNorm                                 2048       True      
____________________________________________________________________________
                     2 x 86 x 4096       
Linear                                    4198400    True      
____________________________________________________________________________
                     2 x 86 x 1024       
Linear                                    4195328    True      
LayerNorm                                 2048       True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
LayerNorm                                 2048       True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
LayerNorm                                 2048       True      
____________________________________________________________________________
                     2 x 86 x 4096       
Linear                                    4198400    True      
____________________________________________________________________________
                     2 x 86 x 1024       
Linear                                    4195328    True      
LayerNorm                                 2048       True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
LayerNorm                                 2048       True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
Linear                                    1049600    True      
LayerNorm                                 2048       True      
____________________________________________________________________________
                     2 x 86 x 4096       
Linear                                    4198400    True      
____________________________________________________________________________
                     2 x 86 x 1024       
Linear                                    4195328    True      
LayerNorm                                 2048       True      
LayerNorm                                 2048       True      
____________________________________________________________________________
                     2 x 86 x 50264      
Linear                                    51470336   False     
____________________________________________________________________________

Total params: 560,701,440
Total trainable params: 201,613,312
Total non-trainable params: 359,088,128

Optimizer used: functools.partial(&lt;function Adam at 0x7f8775e3caf0&gt;)
Loss function: FlattenedLoss of CrossEntropyLoss()

Model frozen up to parameter group #2

Callbacks:
  - TrainEvalCallback
  - HF_BaseModelCallback
  - Recorder
  - ProgressCallback</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># preds = learn.model(b[0])</span>

<span class="c1"># len(preds),preds[&#39;loss&#39;].shape, preds[&#39;logits&#39;].shape</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;input_ids&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(2, 3, torch.Size([2, 325]), 2, torch.Size([2, 115]))</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">learn</span><span class="o">.</span><span class="n">opt</span><span class="o">.</span><span class="n">param_groups</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>3
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">learn</span><span class="o">.</span><span class="n">lr_find</span><span class="p">(</span><span class="n">suggestions</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">

</div>

</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>SuggestedLRs(lr_min=8.317637839354575e-05, lr_steep=7.585775892948732e-05)</pre>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">learn</span><span class="o">.</span><span class="n">fit_one_cycle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">lr_max</span><span class="o">=</span><span class="mf">4e-5</span><span class="p">,</span> <span class="n">cbs</span><span class="o">=</span><span class="n">fit_cbs</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: left;">
      <th>epoch</th>
      <th>train_loss</th>
      <th>valid_loss</th>
      <th>bleu</th>
      <th>meteor</th>
      <th>sacrebleu</th>
      <th>time</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>2.207063</td>
      <td>2.070128</td>
      <td>0.086673</td>
      <td>0.303102</td>
      <td>8.112357</td>
      <td>02:37</td>
    </tr>
  </tbody>
</table>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">learn</span><span class="o">.</span><span class="n">show_results</span><span class="p">(</span><span class="n">learner</span><span class="o">=</span><span class="n">learn</span><span class="p">,</span> <span class="n">input_trunc_at</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">target_trunc_at</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">

</div>

</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>text</th>
      <th>target</th>
      <th>prediction</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Es muß daran erinnert werden, daß die globale Wettbewerbsfähigkeit der Europäischen Union gegenwärtig 81 % des Niveaus der Vereinigten Staaten von Amerika erreicht und daß diese Kennziffer sich nur dann verbessern wird, wenn sich die unserer wettbewerbsfähigen Wirtschaftseinheiten, nämlich der Regionen, verbessert, und das zu einem Zeitpunkt, da die technologische Entwicklung, die Globalisierung der Wirtschaft und unsere Probleme, die Erweiterung und die Einheitswährung, von den Regionen, aber</td>
      <td>It must be remembered that, currently, the European Union' s overall competitiveness is, in general terms, 81% of that of the United States of America and that this figure will only improve if the figure for our competitive units, that is the regions, also improves. Furthermore, this is at a time when technological development, economic globalisation and our problems, which are enlargement and the single currency, demand that the regions, as well as businesses and individuals, make more of an e</td>
      <td>The European Union' s ability to compete in the global market, which accounts for 81 per cent of the GDP of the Member States of the United States, must only be improved if our regional economies, particularly those of the regions, are to become more competitive, and this is at a time when the development of technology, the globalisation of the economy and our own problems, as well as those of our own companies, we would like to call for greater competition in the field of business, both within</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Die Leitlinien gehen im übrigen von zwei horizontalen Prinzipien aus: Die Entwicklung des ländlichen Raums - und die Frage einer nachhaltigen Verkehrsstruktur, Frau Berichterstatterin, die mir seit langem am Herzen liegt, insbesondere seit meiner Zeit als Umweltminister meines Landes, gehört für mich in den Bereich der Entwicklung des ländlichen Raums - und das zweite Prinzip ist die Chancengleichheit, insbesondere zwischen Frauen und Männern, sowie die europäische Beschäftigungsstrategie und d</td>
      <td>I particularly remember the time when I was Minister for the Environment in my own country. The second principle is that of equal opportunities, particularly for men and women, as well as the European strategy for employment and the context of economic and monetary Union.</td>
      <td>The two horizontal principles are the development of the ländlichen economy - and the question of the safety of the road network, which, as I have said, has been a priority for me for a long time, especially as a former Minister of the Environment and as a rapporteur. The second horizontal principle is the principle of equality, particularly between men and women, and the European Union' s strategic strategy and the economic and economic outlook, in particular, the competition policy and the st</td>
    </tr>
  </tbody>
</table>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_de</span> <span class="o">=</span> <span class="s2">&quot;Ich trinke gerne Bier&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">outputs</span> <span class="o">=</span> <span class="n">learn</span><span class="o">.</span><span class="n">blurr_generate</span><span class="p">(</span><span class="n">test_de</span><span class="p">,</span> <span class="n">num_return_sequences</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">o</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">outputs</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;=== Prediction </span><span class="si">{</span><span class="n">idx</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s1"> ===</span><span class="se">\n</span><span class="si">{</span><span class="n">o</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>=== Prediction 1 ===
 I am a beer drinker. I have a beer in my home country of Germany. It is a beer country, not a beer culture country, as some have suggested, and I have my own brand of beer, a beer called a Bier, for those who like it.

=== Prediction 2 ===
 I am a beer drinker. I have a beer in my home country of Germany. It is a beer country, not a beer culture country, as some have suggested, and I have my own brand of beer, a beer called a Bier, for those who want it.

=== Prediction 3 ===
 I am a beer drinker. I have a beer in my home country of Germany. It is a beer country, not a beer culture country, as some have suggested, and I have my own brand of beer, a beer called a Bier, of course.

</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Inference">Inference<a class="anchor-link" href="#Inference"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">export_fname</span> <span class="o">=</span> <span class="s1">&#39;translation_export&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">learn</span><span class="o">.</span><span class="n">metrics</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">learn</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">fname</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">export_fname</span><span class="si">}</span><span class="s1">.pkl&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">inf_learn</span> <span class="o">=</span> <span class="n">load_learner</span><span class="p">(</span><span class="n">fname</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">export_fname</span><span class="si">}</span><span class="s1">.pkl&#39;</span><span class="p">)</span>
<span class="n">inf_learn</span><span class="o">.</span><span class="n">blurr_generate</span><span class="p">(</span><span class="n">test_de</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39; I am a beer drinker. I have a beer in my home country of Germany. It is a beer country, not a beer culture country, as some have suggested, and I have my own brand of beer, a beer called a Bier, for those who like it.&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Tests">Tests<a class="anchor-link" href="#Tests"> </a></h2><p>The purpose of the following tests is to ensure as much as possible, that the core training code works for the pretrained <strong>summarization models</strong> below.  These tests are excluded from the CI workflow because of how long they would take to run and the amount of data that would be required to download.</p>
<p><strong>Note</strong>: Feel free to modify the code below to test whatever pretrained summarization models you are working with ... and if any of your pretrained summarization models fail, please submit a github issue <em>(or a PR if you'd like to fix it yourself)</em></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">try</span><span class="p">:</span> <span class="k">del</span> <span class="n">learn</span><span class="p">;</span> <span class="n">torch</span><span class="o">.</span><span class="n">cuda</span><span class="o">.</span><span class="n">empty_cache</span><span class="p">()</span>
<span class="k">except</span><span class="p">:</span> <span class="k">pass</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">[</span> <span class="n">model_type</span> <span class="k">for</span> <span class="n">model_type</span> <span class="ow">in</span> <span class="n">BLURR</span><span class="o">.</span><span class="n">get_models</span><span class="p">(</span><span class="n">task</span><span class="o">=</span><span class="s1">&#39;ConditionalGeneration&#39;</span><span class="p">)</span> 
 <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">model_type</span><span class="o">.</span><span class="vm">__name__</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;TF&#39;</span><span class="p">))</span> <span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[transformers.models.bart.modeling_bart.BartForConditionalGeneration,
 transformers.models.bigbird_pegasus.modeling_bigbird_pegasus.BigBirdPegasusForConditionalGeneration,
 transformers.models.blenderbot.modeling_blenderbot.BlenderbotForConditionalGeneration,
 transformers.models.blenderbot_small.modeling_blenderbot_small.BlenderbotSmallForConditionalGeneration,
 transformers.models.fsmt.modeling_fsmt.FSMTForConditionalGeneration,
 transformers.models.led.modeling_led.LEDForConditionalGeneration,
 transformers.models.m2m_100.modeling_m2m_100.M2M100ForConditionalGeneration,
 transformers.models.mbart.modeling_mbart.MBartForConditionalGeneration,
 transformers.models.mt5.modeling_mt5.MT5ForConditionalGeneration,
 transformers.models.pegasus.modeling_pegasus.PegasusForConditionalGeneration,
 transformers.models.prophetnet.modeling_prophetnet.ProphetNetForConditionalGeneration,
 transformers.models.speech_to_text.modeling_speech_to_text.Speech2TextForConditionalGeneration,
 transformers.models.t5.modeling_t5.T5ForConditionalGeneration,
 transformers.models.xlm_prophetnet.modeling_xlm_prophetnet.XLMProphetNetForConditionalGeneration]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pretrained_model_names</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;facebook/bart-base&#39;</span><span class="p">,</span>
    <span class="s1">&#39;facebook/wmt19-de-en&#39;</span><span class="p">,</span>                      <span class="c1"># FSMT</span>
    <span class="s1">&#39;Helsinki-NLP/opus-mt-de-en&#39;</span><span class="p">,</span>                <span class="c1"># MarianMT</span>
    <span class="c1">#&#39;sshleifer/tiny-mbart&#39;,</span>
    <span class="c1">#&#39;google/mt5-small&#39;,</span>
    <span class="s1">&#39;t5-small&#39;</span>
<span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;./&#39;</span><span class="p">)</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s1">&#39;wmt16&#39;</span><span class="p">,</span> <span class="s1">&#39;de-en&#39;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s1">&#39;train[:1%]&#39;</span><span class="p">)</span>
<span class="n">wmt_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">ds</span><span class="p">[</span><span class="s1">&#39;translation&#39;</span><span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;de&#39;</span><span class="p">,</span> <span class="s1">&#39;en&#39;</span><span class="p">]);</span> <span class="nb">len</span><span class="p">(</span><span class="n">wmt_df</span><span class="p">)</span>
<span class="n">wmt_df</span> <span class="o">=</span> <span class="n">wmt_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">1000</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Reusing dataset wmt16 (/home/wgilliam/.cache/huggingface/datasets/wmt16/de-en/1.0.0/0d9fb3e814712c785176ad8cdb9f465fbe6479000ee6546725db30ad8a8b5f8a)
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#hide_output</span>
<span class="n">model_cls</span> <span class="o">=</span> <span class="n">AutoModelForSeq2SeqLM</span>
<span class="n">bsz</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">inp_seq_sz</span> <span class="o">=</span> <span class="mi">128</span><span class="p">;</span> <span class="n">trg_seq_sz</span> <span class="o">=</span> <span class="mi">128</span>

<span class="n">test_results</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">model_name</span> <span class="ow">in</span> <span class="n">pretrained_model_names</span><span class="p">:</span>
    <span class="n">error</span><span class="o">=</span><span class="kc">None</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;=== </span><span class="si">{</span><span class="n">model_name</span><span class="si">}</span><span class="s1"> ===</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    
    <span class="n">hf_tok_kwargs</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">model_name</span> <span class="o">==</span> <span class="s1">&#39;sshleifer/tiny-mbart&#39;</span><span class="p">):</span>
        <span class="n">hf_tok_kwargs</span><span class="p">[</span><span class="s1">&#39;src_lang&#39;</span><span class="p">],</span> <span class="n">hf_tok_kwargs</span><span class="p">[</span><span class="s1">&#39;tgt_lang&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;de_DE&quot;</span><span class="p">,</span> <span class="s2">&quot;en_XX&quot;</span>
            
    
    <span class="n">hf_arch</span><span class="p">,</span> <span class="n">hf_config</span><span class="p">,</span> <span class="n">hf_tokenizer</span><span class="p">,</span> <span class="n">hf_model</span> <span class="o">=</span> <span class="n">BLURR</span><span class="o">.</span><span class="n">get_hf_objects</span><span class="p">(</span><span class="n">model_name</span><span class="p">,</span> 
                                                                      <span class="n">model_cls</span><span class="o">=</span><span class="n">model_cls</span><span class="p">,</span> 
                                                                      <span class="n">tokenizer_kwargs</span><span class="o">=</span><span class="n">hf_tok_kwargs</span><span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;architecture:</span><span class="se">\t</span><span class="si">{</span><span class="n">hf_arch</span><span class="si">}</span><span class="se">\n</span><span class="s1">tokenizer:</span><span class="se">\t</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">hf_tokenizer</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="se">\n</span><span class="s1">model:</span><span class="se">\t\t</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">hf_model</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    
    <span class="c1"># 1. build your DataBlock</span>
    <span class="n">text_gen_kwargs</span> <span class="o">=</span> <span class="n">default_text_gen_kwargs</span><span class="p">(</span><span class="n">hf_config</span><span class="p">,</span> <span class="n">hf_model</span><span class="p">,</span> <span class="n">task</span><span class="o">=</span><span class="s1">&#39;translation&#39;</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">add_t5_prefix</span><span class="p">(</span><span class="n">inp</span><span class="p">):</span> <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;translate German to English: </span><span class="si">{</span><span class="n">inp</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">if</span> <span class="p">(</span><span class="n">hf_arch</span> <span class="o">==</span> <span class="s1">&#39;t5&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="n">inp</span>
    
    <span class="n">before_batch_tfm</span> <span class="o">=</span> <span class="n">HF_Seq2SeqBeforeBatchTransform</span><span class="p">(</span><span class="n">hf_arch</span><span class="p">,</span> <span class="n">hf_config</span><span class="p">,</span> <span class="n">hf_tokenizer</span><span class="p">,</span> <span class="n">hf_model</span><span class="p">,</span>
                                                      <span class="n">padding</span><span class="o">=</span><span class="s1">&#39;max_length&#39;</span><span class="p">,</span> 
                                                      <span class="n">max_length</span><span class="o">=</span><span class="n">inp_seq_sz</span><span class="p">,</span> 
                                                      <span class="n">max_target_length</span><span class="o">=</span><span class="n">trg_seq_sz</span><span class="p">,</span> 
                                                      <span class="n">text_gen_kwargs</span><span class="o">=</span><span class="n">text_gen_kwargs</span><span class="p">)</span>
    
    <span class="n">blocks</span> <span class="o">=</span> <span class="p">(</span><span class="n">HF_Seq2SeqBlock</span><span class="p">(</span><span class="n">before_batch_tfm</span><span class="o">=</span><span class="n">before_batch_tfm</span><span class="p">),</span> <span class="n">noop</span><span class="p">)</span>
    <span class="n">dblock</span> <span class="o">=</span> <span class="n">DataBlock</span><span class="p">(</span><span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span> 
                   <span class="n">get_x</span><span class="o">=</span><span class="n">Pipeline</span><span class="p">([</span><span class="n">ColReader</span><span class="p">(</span><span class="s1">&#39;de&#39;</span><span class="p">),</span> <span class="n">add_t5_prefix</span><span class="p">]),</span> 
                   <span class="n">get_y</span><span class="o">=</span><span class="n">ColReader</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">),</span> 
                   <span class="n">splitter</span><span class="o">=</span><span class="n">RandomSplitter</span><span class="p">())</span>

    <span class="n">dls</span> <span class="o">=</span> <span class="n">dblock</span><span class="o">.</span><span class="n">dataloaders</span><span class="p">(</span><span class="n">wmt_df</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="n">bsz</span><span class="p">)</span> 
    <span class="n">b</span> <span class="o">=</span> <span class="n">dls</span><span class="o">.</span><span class="n">one_batch</span><span class="p">()</span>

    <span class="c1"># 2. build your Learner</span>
    <span class="n">seq2seq_metrics</span> <span class="o">=</span> <span class="p">{}</span>
    
    <span class="n">model</span> <span class="o">=</span> <span class="n">HF_BaseModelWrapper</span><span class="p">(</span><span class="n">hf_model</span><span class="p">)</span>
    <span class="n">fit_cbs</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">ShortEpochCallback</span><span class="p">(</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">short_valid</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> 
        <span class="n">HF_Seq2SeqMetricsCallback</span><span class="p">(</span><span class="n">custom_metrics</span><span class="o">=</span><span class="n">seq2seq_metrics</span><span class="p">)</span>
    <span class="p">]</span>

    <span class="n">learn</span> <span class="o">=</span> <span class="n">Learner</span><span class="p">(</span><span class="n">dls</span><span class="p">,</span> 
                    <span class="n">model</span><span class="p">,</span>
                    <span class="n">opt_func</span><span class="o">=</span><span class="n">ranger</span><span class="p">,</span>
                    <span class="n">loss_func</span><span class="o">=</span><span class="n">HF_PreCalculatedLoss</span><span class="p">(),</span>
                    <span class="n">cbs</span><span class="o">=</span><span class="p">[</span><span class="n">HF_BaseModelCallback</span><span class="p">],</span>
                    <span class="n">splitter</span><span class="o">=</span><span class="n">partial</span><span class="p">(</span><span class="n">seq2seq_splitter</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="n">hf_arch</span><span class="p">))</span><span class="o">.</span><span class="n">to_fp16</span><span class="p">()</span>

    <span class="n">learn</span><span class="o">.</span><span class="n">create_opt</span><span class="p">()</span> 
    <span class="n">learn</span><span class="o">.</span><span class="n">freeze</span><span class="p">()</span>
    
    <span class="c1"># 3. Run your tests</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;*** TESTING DataLoaders ***</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">test_eq</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">test_eq</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;input_ids&#39;</span><span class="p">]),</span> <span class="n">bsz</span><span class="p">)</span>
        <span class="n">test_eq</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;input_ids&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">torch</span><span class="o">.</span><span class="n">Size</span><span class="p">([</span><span class="n">bsz</span><span class="p">,</span> <span class="n">inp_seq_sz</span><span class="p">]))</span>
        <span class="n">test_eq</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">bsz</span><span class="p">)</span>

<span class="c1">#         print(&#39;*** TESTING One pass through the model ***&#39;)</span>
<span class="c1">#         preds = learn.model(b[0])</span>
<span class="c1">#         test_eq(preds[1].shape[0], bsz)</span>
<span class="c1">#         test_eq(preds[1].shape[2], hf_config.vocab_size)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;*** TESTING Training/Results ***&#39;</span><span class="p">)</span>
        <span class="n">learn</span><span class="o">.</span><span class="n">fit_one_cycle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">lr_max</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">,</span> <span class="n">cbs</span><span class="o">=</span><span class="n">fit_cbs</span><span class="p">)</span>

        <span class="n">test_results</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">hf_arch</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">hf_tokenizer</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">hf_model</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="s1">&#39;PASSED&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span>
        <span class="n">learn</span><span class="o">.</span><span class="n">show_results</span><span class="p">(</span><span class="n">learner</span><span class="o">=</span><span class="n">learn</span><span class="p">,</span> <span class="n">max_n</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">input_trunc_at</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">target_trunc_at</span><span class="o">=</span><span class="mi">250</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
        <span class="n">test_results</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">hf_arch</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">hf_tokenizer</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">hf_model</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="s1">&#39;FAILED&#39;</span><span class="p">,</span> <span class="n">err</span><span class="p">))</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="c1"># cleanup</span>
        <span class="k">del</span> <span class="n">learn</span><span class="p">;</span> <span class="n">torch</span><span class="o">.</span><span class="n">cuda</span><span class="o">.</span><span class="n">empty_cache</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>arch</th>
      <th>tokenizer</th>
      <th>model_name</th>
      <th>result</th>
      <th>error</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>bart</td>
      <td>BartTokenizerFast</td>
      <td>BartForConditionalGeneration</td>
      <td>PASSED</td>
      <td></td>
    </tr>
    <tr>
      <th>1</th>
      <td>fsmt</td>
      <td>FSMTTokenizer</td>
      <td>FSMTForConditionalGeneration</td>
      <td>PASSED</td>
      <td></td>
    </tr>
    <tr>
      <th>2</th>
      <td>marian</td>
      <td>MarianTokenizer</td>
      <td>MarianMTModel</td>
      <td>PASSED</td>
      <td></td>
    </tr>
    <tr>
      <th>3</th>
      <td>t5</td>
      <td>T5TokenizerFast</td>
      <td>T5ForConditionalGeneration</td>
      <td>PASSED</td>
      <td></td>
    </tr>
  </tbody>
</table>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Cleanup">Cleanup<a class="anchor-link" href="#Cleanup"> </a></h2>
</div>
</div>
</div>
</div>
 

