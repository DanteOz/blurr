---

title: modeling.seq2seq.translation


keywords: fastai
sidebar: home_sidebar

summary: "This module contains custom models, custom splitters, etc... translation tasks."
description: "This module contains custom models, custom splitters, etc... translation tasks."
nb_path: "nbs/12_modeling-seq2seq-translation.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/12_modeling-seq2seq-translation.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">torch</span><span class="o">.</span><span class="n">cuda</span><span class="o">.</span><span class="n">set_device</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Using GPU #</span><span class="si">{</span><span class="n">torch</span><span class="o">.</span><span class="n">cuda</span><span class="o">.</span><span class="n">current_device</span><span class="p">()</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="n">torch</span><span class="o">.</span><span class="n">cuda</span><span class="o">.</span><span class="n">get_device_name</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Using GPU #1: GeForce GTX 1080 Ti
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Translation">Translation<a class="anchor-link" href="#Translation"> </a></h2><p>Translation tasks attempt to convert text in one language into another</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Prepare-the-data">Prepare the data<a class="anchor-link" href="#Prepare-the-data"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s1">&#39;wmt16&#39;</span><span class="p">,</span> <span class="s1">&#39;de-en&#39;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s1">&#39;train[:1%]&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Reusing dataset wmt16 (/home/wgilliam/.cache/huggingface/datasets/wmt16/de-en/1.0.0/0d9fb3e814712c785176ad8cdb9f465fbe6479000ee6546725db30ad8a8b5f8a)
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;./&#39;</span><span class="p">)</span>
<span class="n">wmt_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">ds</span><span class="p">[</span><span class="s1">&#39;translation&#39;</span><span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;de&#39;</span><span class="p">,</span> <span class="s1">&#39;en&#39;</span><span class="p">]);</span> <span class="nb">len</span><span class="p">(</span><span class="n">wmt_df</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>45489</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">wmt_df</span> <span class="o">=</span> <span class="n">wmt_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">1000</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">wmt_df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>de</th>
      <th>en</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Wiederaufnahme der Sitzungsperiode</td>
      <td>Resumption of the session</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Ich erkläre die am Freitag, dem 17. Dezember unterbrochene Sitzungsperiode des Europäischen Parlaments für wiederaufgenommen, wünsche Ihnen nochmals alles Gute zum Jahreswechsel und hoffe, daß Sie schöne Ferien hatten.</td>
      <td>I declare resumed the session of the European Parliament adjourned on Friday 17 December 1999, and I would like once again to wish you a happy new year in the hope that you enjoyed a pleasant festive period.</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pretrained_model_name</span> <span class="o">=</span> <span class="s2">&quot;Helsinki-NLP/opus-mt-de-en&quot;</span>
<span class="n">model_cls</span> <span class="o">=</span> <span class="n">AutoModelForSeq2SeqLM</span>

<span class="n">hf_arch</span><span class="p">,</span> <span class="n">hf_config</span><span class="p">,</span> <span class="n">hf_tokenizer</span><span class="p">,</span> <span class="n">hf_model</span> <span class="o">=</span> <span class="n">BLURR</span><span class="o">.</span><span class="n">get_hf_objects</span><span class="p">(</span><span class="n">pretrained_model_name</span><span class="p">,</span> <span class="n">model_cls</span><span class="o">=</span><span class="n">model_cls</span><span class="p">)</span>
<span class="n">hf_arch</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">hf_tokenizer</span><span class="p">),</span> <span class="nb">type</span><span class="p">(</span><span class="n">hf_config</span><span class="p">),</span> <span class="nb">type</span><span class="p">(</span><span class="n">hf_model</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(&#39;marian&#39;,
 transformers.models.marian.tokenization_marian.MarianTokenizer,
 transformers.models.marian.configuration_marian.MarianConfig,
 transformers.models.marian.modeling_marian.MarianMTModel)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">blocks</span> <span class="o">=</span> <span class="p">(</span><span class="n">HF_Seq2SeqBlock</span><span class="p">(</span><span class="n">hf_arch</span><span class="p">,</span> <span class="n">hf_config</span><span class="p">,</span> <span class="n">hf_tokenizer</span><span class="p">,</span> <span class="n">hf_model</span><span class="p">),</span> <span class="n">noop</span><span class="p">)</span>
<span class="n">dblock</span> <span class="o">=</span> <span class="n">DataBlock</span><span class="p">(</span><span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span> <span class="n">get_x</span><span class="o">=</span><span class="n">ColReader</span><span class="p">(</span><span class="s1">&#39;de&#39;</span><span class="p">),</span> <span class="n">get_y</span><span class="o">=</span><span class="n">ColReader</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">),</span> <span class="n">splitter</span><span class="o">=</span><span class="n">RandomSplitter</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dls</span> <span class="o">=</span> <span class="n">dblock</span><span class="o">.</span><span class="n">dataloaders</span><span class="p">(</span><span class="n">wmt_df</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">b</span> <span class="o">=</span> <span class="n">dls</span><span class="o">.</span><span class="n">one_batch</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">),</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;input_ids&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(2, torch.Size([2, 141]), torch.Size([2, 85]))</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dls</span><span class="o">.</span><span class="n">show_batch</span><span class="p">(</span><span class="n">dataloaders</span><span class="o">=</span><span class="n">dls</span><span class="p">,</span> <span class="n">max_n</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">input_trunc_at</span><span class="o">=</span><span class="mi">250</span><span class="p">,</span> <span class="n">target_trunc_at</span><span class="o">=</span><span class="mi">250</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>text</th>
      <th>target</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>▁Angesichts▁dieser Situation▁muß▁aus dem▁Bericht, den das▁Parlament annimmt,▁klar▁hervorgehen,▁daß▁Maßnahmen▁notwendig▁sind, die▁eindeutig auf die▁Bekämpfung der relativen▁Armut und der Arbeitslosigkeit▁gerichtet▁sind.▁Maßnahmen▁wie die für diese▁Zwe</td>
      <td>Given this situation, the report approved by Parliament must highlight the need for measures that aim unequivocally to fight relative poverty and unemployment: measures such as the appropriate use of structural funds for these purposes, which are oft</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Da▁meine▁Fraktion der▁Meinung▁ist,▁daß ein▁Parlament▁dazu da▁ist, zuzuhören, zu▁diskutieren und▁nachzudenken,▁gibt es▁unserer▁Ansicht nach▁keinen Grund zur▁Rechtfertigung▁dieser▁Verzögerung, und wir▁glauben,▁wenn die▁Kommission▁dazu in der▁Lage▁ist,▁</td>
      <td>My Group believes that since a parliament is meant to listen, debate and reflect, there can be no justification whatsoever for this delay and we believe that, if the Commission is ready to do so, we still have time to re-establish the original agreem</td>
    </tr>
  </tbody>
</table>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Train-model">Train model<a class="anchor-link" href="#Train-model"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">seq2seq_metrics</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;bleu&#39;</span><span class="p">:</span> <span class="p">{</span> <span class="s1">&#39;returns&#39;</span><span class="p">:</span> <span class="s2">&quot;bleu&quot;</span> <span class="p">},</span>
    <span class="s1">&#39;meteor&#39;</span><span class="p">:</span> <span class="p">{</span> <span class="s1">&#39;returns&#39;</span><span class="p">:</span> <span class="s2">&quot;meteor&quot;</span> <span class="p">},</span>
    <span class="s1">&#39;sacrebleu&#39;</span><span class="p">:</span> <span class="p">{</span> <span class="s1">&#39;returns&#39;</span><span class="p">:</span> <span class="s2">&quot;score&quot;</span> <span class="p">}</span>
<span class="p">}</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">HF_BaseModelWrapper</span><span class="p">(</span><span class="n">hf_model</span><span class="p">)</span>

<span class="n">learn_cbs</span> <span class="o">=</span> <span class="p">[</span><span class="n">HF_BaseModelCallback</span><span class="p">]</span>
<span class="n">fit_cbs</span> <span class="o">=</span> <span class="p">[</span><span class="n">HF_Seq2SeqMetricsCallback</span><span class="p">(</span><span class="n">custom_metrics</span><span class="o">=</span><span class="n">seq2seq_metrics</span><span class="p">)]</span>

<span class="n">learn</span> <span class="o">=</span> <span class="n">Learner</span><span class="p">(</span><span class="n">dls</span><span class="p">,</span> 
                <span class="n">model</span><span class="p">,</span>
                <span class="n">opt_func</span><span class="o">=</span><span class="n">partial</span><span class="p">(</span><span class="n">Adam</span><span class="p">),</span>
                <span class="n">loss_func</span><span class="o">=</span><span class="n">CrossEntropyLossFlat</span><span class="p">(),</span> <span class="c1">#HF_PreCalculatedLoss()</span>
                <span class="n">cbs</span><span class="o">=</span><span class="n">learn_cbs</span><span class="p">,</span>
                <span class="n">splitter</span><span class="o">=</span><span class="n">partial</span><span class="p">(</span><span class="n">seq2seq_splitter</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="n">hf_arch</span><span class="p">))</span> <span class="c1">#.to_native_fp16() #.to_fp16()</span>

<span class="n">learn</span><span class="o">.</span><span class="n">freeze</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>[nltk_data] Downloading package wordnet to /home/wgilliam/nltk_data...
[nltk_data]   Package wordnet is already up-to-date!
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">learn</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># preds = learn.model(b[0])</span>

<span class="c1"># len(preds),preds[&#39;loss&#39;].shape, preds[&#39;logits&#39;].shape</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;input_ids&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(2, 3, torch.Size([2, 141]), 2, torch.Size([2, 85]))</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">learn</span><span class="o">.</span><span class="n">opt</span><span class="o">.</span><span class="n">param_groups</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>3
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">learn</span><span class="o">.</span><span class="n">lr_find</span><span class="p">(</span><span class="n">suggest_funcs</span><span class="o">=</span><span class="p">[</span><span class="n">minimum</span><span class="p">,</span> <span class="n">steep</span><span class="p">,</span> <span class="n">valley</span><span class="p">,</span> <span class="n">slide</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/home/wgilliam/miniconda3/envs/blurr/lib/python3.9/site-packages/fastai/callback/schedule.py:270: UserWarning: color is redundantly defined by the &#39;color&#39; keyword argument and the fmt string &#34;ro&#34; (-&gt; color=&#39;r&#39;). The keyword argument will take precedence.
  ax.plot(val, idx, &#39;ro&#39;, label=nm, c=color)
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>SuggestedLRs(minimum=5.754399462603033e-05, steep=6.309573450380412e-07, valley=tensor(3.6308e-05), slide=tensor(0.1738))</pre>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">learn</span><span class="o">.</span><span class="n">fit_one_cycle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">lr_max</span><span class="o">=</span><span class="mf">4e-5</span><span class="p">,</span> <span class="n">cbs</span><span class="o">=</span><span class="n">fit_cbs</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: left;">
      <th>epoch</th>
      <th>train_loss</th>
      <th>valid_loss</th>
      <th>bleu</th>
      <th>meteor</th>
      <th>sacrebleu</th>
      <th>time</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>1.290596</td>
      <td>1.242831</td>
      <td>0.315434</td>
      <td>0.528891</td>
      <td>31.111169</td>
      <td>01:00</td>
    </tr>
  </tbody>
</table>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">learn</span><span class="o">.</span><span class="n">show_results</span><span class="p">(</span><span class="n">learner</span><span class="o">=</span><span class="n">learn</span><span class="p">,</span> <span class="n">input_trunc_at</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">target_trunc_at</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">

</div>

</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>text</th>
      <th>target</th>
      <th>prediction</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>▁Deshalb▁besteht der▁Vorschlag der▁Fraktion der▁Sozialdemokratischen▁Partei▁Europas, den Sie▁erwähnt▁haben,▁darin, den▁Mittwoch▁als▁Termin der▁Vorstellung des▁Programms der▁Kommission Prodi für die▁Wahlperiode▁beizubehalten, und in▁dieses▁Programm▁auch das▁Verwaltungsreformprojekt▁einzubeziehen, da wir▁andernfalls in eine paradoxe Situation▁geraten▁könnten: Mit der Ausrede, der▁Wortlaut liege nicht vor,▁wird▁einerseits dem▁Präsidenten der▁Kommission das▁Recht▁abgesprochen, in▁diesem▁Parlament zu</td>
      <td>Therefore, the proposal of the Group of the Party of European Socialists, and which you have mentioned, is that the Prodi Commission present its legislative programme on Wednesday, including its proposed administrative reform, because, otherwise, we could find ourselves in a paradoxical situation: on the pretext that there is no text, on the one hand, the President of the Commission would be denied his right to speak in this Parliament and, on the other hand, there would be a debate on a reform</td>
      <td>That is why the proposal of the Group of the Party of European Socialists, which you have mentioned, is to maintain Wednesday as the date for the presentation of the Prodi Commission' s programme for the parliamentary term, and to include in this programme the administrative reform project, otherwise we could find ourselves in a paradoxical situation. With the excuse that the wording is not available, the President of the Commission is on the one hand denied the right to speak in this Parliament</td>
    </tr>
    <tr>
      <th>1</th>
      <td>In▁unseren Änderungsanträgen▁haben wir▁festgeschrieben,▁welche▁Bedeutung wir der Herausbildung der▁notwendigen▁Synergien▁zwischen den▁Strukturfonds, dem▁Kohäsionsfonds und den▁Gemeinschaftsinitiativen▁beimessen, so▁daß▁ihre▁Anwendung auf▁optimale und rentabelste▁Weise im▁zunehmenden▁Abbau der▁regionalen▁Ungleichheiten und in der▁Schaffung von▁Arbeitsplätzen▁ihren▁Niederschlag▁findet, die▁letztendlich die▁beiden▁Hauptziele der hier zur▁Debatte▁stehenden▁Fonds▁sind.</td>
      <td>In our amendments, we have stated the importance of the necessary synergies being produced between the Structural Funds, the Cohesion Fund and Community initiatives, so that their application should be reflected, in the best and most profitable way, by the gradual elimination of disparities between regions and by the creation of jobs which are, when all is said and done, the two central purposes of the funds we are discussing.</td>
      <td>In our amendments, we have laid down the importance we attach to developing the necessary synergies between the Structural Funds, the Cohesion Fund and Community initiatives, so that their application is reflected, in the best possible and most profitable way, in the increasing reduction of regional disparities and the creation of jobs, which are ultimately the two main objectives of the funds under discussion.</td>
    </tr>
  </tbody>
</table>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_de</span> <span class="o">=</span> <span class="s2">&quot;Ich trinke gerne Bier&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">outputs</span> <span class="o">=</span> <span class="n">learn</span><span class="o">.</span><span class="n">blurr_generate</span><span class="p">(</span><span class="n">test_de</span><span class="p">,</span> <span class="n">num_return_sequences</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">o</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">outputs</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;=== Prediction </span><span class="si">{</span><span class="n">idx</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s1"> ===</span><span class="se">\n</span><span class="si">{</span><span class="n">o</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>=== Prediction 1 ===
I like to drink beer

=== Prediction 2 ===
I like to drink beer.

=== Prediction 3 ===
I like drinking beer

</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Inference">Inference<a class="anchor-link" href="#Inference"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">export_fname</span> <span class="o">=</span> <span class="s1">&#39;translation_export&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">learn</span><span class="o">.</span><span class="n">metrics</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">learn</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">fname</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">export_fname</span><span class="si">}</span><span class="s1">.pkl&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">inf_learn</span> <span class="o">=</span> <span class="n">load_learner</span><span class="p">(</span><span class="n">fname</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">export_fname</span><span class="si">}</span><span class="s1">.pkl&#39;</span><span class="p">)</span>
<span class="n">inf_learn</span><span class="o">.</span><span class="n">blurr_generate</span><span class="p">(</span><span class="n">test_de</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;I like to drink beer&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="High-level-API">High-level API<a class="anchor-link" href="#High-level-API"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="BlearnerForTranslation">BlearnerForTranslation<a class="anchor-link" href="#BlearnerForTranslation"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We also introduce a task specific <a href="/blurr/modeling-core.html#Blearner"><code>Blearner</code></a> that get you your DataBlock, DataLoaders, and BLearner in one line of code!</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="BlearnerForTranslation" class="doc_header"><code>class</code> <code>BlearnerForTranslation</code><a href="https://github.com/ohmeow/blurr/tree/master/blurr/modeling/seq2seq/translation.py#L21" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>BlearnerForTranslation</code>(<strong><code>dls</code></strong>:<code>DataLoaders</code>, <strong><code>hf_model</code></strong>:<code>PreTrainedModel</code>, <strong><code>base_model_cb</code></strong>:<a href="/blurr/modeling-core.html#HF_BaseModelCallback"><code>HF_BaseModelCallback</code></a>=<em><code>HF_BaseModelCallback</code></em>, <strong><code>loss_func</code></strong>=<em><code>None</code></em>, <strong><code>opt_func</code></strong>=<em><code>Adam</code></em>, <strong><code>lr</code></strong>=<em><code>0.001</code></em>, <strong><code>splitter</code></strong>=<em><code>trainable_params</code></em>, <strong><code>cbs</code></strong>=<em><code>None</code></em>, <strong><code>metrics</code></strong>=<em><code>None</code></em>, <strong><code>path</code></strong>=<em><code>None</code></em>, <strong><code>model_dir</code></strong>=<em><code>'models'</code></em>, <strong><code>wd</code></strong>=<em><code>None</code></em>, <strong><code>wd_bn_bias</code></strong>=<em><code>False</code></em>, <strong><code>train_bn</code></strong>=<em><code>True</code></em>, <strong><code>moms</code></strong>=<em><code>(0.95, 0.85, 0.95)</code></em>) :: <a href="/blurr/modeling-core.html#Blearner"><code>Blearner</code></a></p>
</blockquote>
<p>Group together a <code>model</code>, some <code>dls</code> and a <code>loss_func</code> to handle training</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">learn</span> <span class="o">=</span> <span class="n">BlearnerForTranslation</span><span class="o">.</span><span class="n">from_dataframe</span><span class="p">(</span><span class="n">wmt_df</span><span class="p">,</span> <span class="s1">&#39;Helsinki-NLP/opus-mt-de-en&#39;</span><span class="p">,</span> 
                                              <span class="n">src_lang_name</span><span class="o">=</span><span class="s1">&#39;German&#39;</span><span class="p">,</span> <span class="n">src_lang_attr</span><span class="o">=</span><span class="s1">&#39;de&#39;</span><span class="p">,</span> 
                                              <span class="n">trg_lang_name</span><span class="o">=</span><span class="s1">&#39;English&#39;</span><span class="p">,</span> <span class="n">trg_lang_attr</span><span class="o">=</span><span class="s1">&#39;en&#39;</span><span class="p">,</span> 
                                              <span class="n">dblock_splitter</span><span class="o">=</span><span class="n">RandomSplitter</span><span class="p">(),</span>
                                              <span class="n">dl_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;bs&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">})</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">metrics_cb</span> <span class="o">=</span> <span class="n">BlearnerForTranslation</span><span class="o">.</span><span class="n">get_metrics_cb</span><span class="p">()</span>
<span class="n">learn</span><span class="o">.</span><span class="n">fit_one_cycle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">lr_max</span><span class="o">=</span><span class="mf">4e-5</span><span class="p">,</span> <span class="n">cbs</span><span class="o">=</span><span class="p">[</span><span class="n">metrics_cb</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>[nltk_data] Downloading package wordnet to /home/wgilliam/nltk_data...
[nltk_data]   Package wordnet is already up-to-date!
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: left;">
      <th>epoch</th>
      <th>train_loss</th>
      <th>valid_loss</th>
      <th>bleu</th>
      <th>meteor</th>
      <th>sacrebleu</th>
      <th>time</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>1.366711</td>
      <td>1.226650</td>
      <td>0.323918</td>
      <td>0.539581</td>
      <td>31.577392</td>
      <td>00:59</td>
    </tr>
  </tbody>
</table>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">learn</span><span class="o">.</span><span class="n">show_results</span><span class="p">(</span><span class="n">learner</span><span class="o">=</span><span class="n">learn</span><span class="p">,</span> <span class="n">input_trunc_at</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">target_trunc_at</span><span class="o">=</span><span class="mi">250</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">

</div>

</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>text</th>
      <th>target</th>
      <th>prediction</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Sie▁wird▁aber auf▁Seite 5▁dieser▁Leitlinien▁ganz▁eindeutig▁genannt, und▁ich▁möchte▁darauf▁verweisen -▁weil▁sie▁mich▁dazu▁aufgefordert▁haben -,▁daß diese▁Partnerschaft für▁mich - und▁ich▁habe▁lange▁genug eine Region▁betreut, um dies▁beurteilen zu▁können - ein▁sehr▁wirkungsvolles Instrument zur▁Mobilisierung der▁geistigen▁Ressourcen auf▁lokaler▁Ebene▁ist -▁sowohl derer im▁öffentlichen▁Sektor - die Stadt- und▁Gemeinderäte, den▁schulischen und▁gesellschaftlichen▁Bereich, die▁Vereine und▁Verbände -▁a</td>
      <td>However, I do wish to mention - since you have asked me to do so - that, as far as I am concerned, this partnership - and I spent long enough as a regional administrator within my own country to be able to say this most sincerely - is a tool, one use</td>
      <td>However, it is clearly mentioned on page 5 of these guidelines, and I would like to point out - because they have asked me to do so - that this partnership is a very effective instrument for the mobilisation of intellectual resources at local level -</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Nach der▁Tagesordnung▁folgt der▁Bericht (A5-0105/1999) von▁Herrn Koch im▁Namen des▁Ausschusses für▁Regionalpolitik,▁Verkehr und▁Fremdenverkehr über den▁Gemeinsamen▁Standpunkt des Rates im▁Hinblick auf den▁Erlaß der▁Richtlinie des▁Europäischen▁Parlaments und des Rates über die▁Mindestanforderungen für die▁Prüfung der▁Sicherheitsberater für die▁Beförderung▁gefährlicher▁Güter auf Straße,▁Schiene oder▁Binnenwasserstraßen (C5-0208/1999 - 1998/0106(COD)).</td>
      <td>The next item is the report (A5-0105/1999) by Mr Koch, on behalf of the Committee on Regional Policy, Transport and Tourism, on the common position adopted by the Council with a view to adopting a European Parliament and Council directive on the harm</td>
      <td>The next item is the report (A5-0105/1999) by Mr Koch, on behalf of the Committee on Regional Policy, Transport and Tourism, on the common position adopted by the Council with a view to adopting a directive of the European Parliament and of the Counc</td>
    </tr>
  </tbody>
</table>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_de</span> <span class="o">=</span> <span class="s2">&quot;Ich trinke gerne Bier&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">learn</span><span class="o">.</span><span class="n">blurr_generate</span><span class="p">(</span><span class="n">test_de</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;I like to drink beer&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">export_fname</span> <span class="o">=</span> <span class="s1">&#39;translation_export&#39;</span>

<span class="n">learn</span><span class="o">.</span><span class="n">metrics</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">learn</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">fname</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">export_fname</span><span class="si">}</span><span class="s1">.pkl&#39;</span><span class="p">)</span>

<span class="n">inf_learn</span> <span class="o">=</span> <span class="n">load_learner</span><span class="p">(</span><span class="n">fname</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">export_fname</span><span class="si">}</span><span class="s1">.pkl&#39;</span><span class="p">)</span>
<span class="n">inf_learn</span><span class="o">.</span><span class="n">blurr_generate</span><span class="p">(</span><span class="n">test_de</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;I like to drink beer&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Tests">Tests<a class="anchor-link" href="#Tests"> </a></h2><p>The purpose of the following tests is to ensure as much as possible, that the core training code works for the pretrained <strong>translation models</strong> below.  These tests are excluded from the CI workflow because of how long they would take to run and the amount of data that would be required to download.</p>
<p><strong>Note</strong>: Feel free to modify the code below to test whatever pretrained summarization models you are working with ... and if any of your pretrained translation models fail, please submit a github issue <em>(or a PR if you'd like to fix it yourself)</em></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">try</span><span class="p">:</span> <span class="k">del</span> <span class="n">learn</span><span class="p">;</span> <span class="n">torch</span><span class="o">.</span><span class="n">cuda</span><span class="o">.</span><span class="n">empty_cache</span><span class="p">()</span>
<span class="k">except</span><span class="p">:</span> <span class="k">pass</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">[</span> <span class="n">model_type</span> <span class="k">for</span> <span class="n">model_type</span> <span class="ow">in</span> <span class="n">BLURR</span><span class="o">.</span><span class="n">get_models</span><span class="p">(</span><span class="n">task</span><span class="o">=</span><span class="s1">&#39;ConditionalGeneration&#39;</span><span class="p">)</span> 
 <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">model_type</span><span class="o">.</span><span class="vm">__name__</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;TF&#39;</span><span class="p">))</span> <span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[transformers.models.bart.modeling_bart.BartForConditionalGeneration,
 transformers.models.bigbird_pegasus.modeling_bigbird_pegasus.BigBirdPegasusForConditionalGeneration,
 transformers.models.blenderbot.modeling_blenderbot.BlenderbotForConditionalGeneration,
 transformers.models.blenderbot_small.modeling_blenderbot_small.BlenderbotSmallForConditionalGeneration,
 transformers.models.fsmt.modeling_fsmt.FSMTForConditionalGeneration,
 transformers.models.led.modeling_led.LEDForConditionalGeneration,
 transformers.models.m2m_100.modeling_m2m_100.M2M100ForConditionalGeneration,
 transformers.models.mbart.modeling_mbart.MBartForConditionalGeneration,
 transformers.models.mt5.modeling_mt5.MT5ForConditionalGeneration,
 transformers.models.pegasus.modeling_pegasus.PegasusForConditionalGeneration,
 transformers.models.prophetnet.modeling_prophetnet.ProphetNetForConditionalGeneration,
 transformers.models.speech_to_text.modeling_speech_to_text.Speech2TextForConditionalGeneration,
 transformers.models.t5.modeling_t5.T5ForConditionalGeneration,
 transformers.models.xlm_prophetnet.modeling_xlm_prophetnet.XLMProphetNetForConditionalGeneration]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pretrained_model_names</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;facebook/bart-base&#39;</span><span class="p">,</span>
    <span class="s1">&#39;facebook/wmt19-de-en&#39;</span><span class="p">,</span>                      <span class="c1"># FSMT</span>
    <span class="s1">&#39;Helsinki-NLP/opus-mt-de-en&#39;</span><span class="p">,</span>                <span class="c1"># MarianMT</span>
    <span class="c1">#&#39;sshleifer/tiny-mbart&#39;,</span>
    <span class="c1">#&#39;google/mt5-small&#39;,</span>
    <span class="s1">&#39;t5-small&#39;</span>
<span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;./&#39;</span><span class="p">)</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">load_dataset</span><span class="p">(</span><span class="s1">&#39;wmt16&#39;</span><span class="p">,</span> <span class="s1">&#39;de-en&#39;</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="s1">&#39;train[:1%]&#39;</span><span class="p">)</span>
<span class="n">wmt_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">ds</span><span class="p">[</span><span class="s1">&#39;translation&#39;</span><span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;de&#39;</span><span class="p">,</span> <span class="s1">&#39;en&#39;</span><span class="p">]);</span> <span class="nb">len</span><span class="p">(</span><span class="n">wmt_df</span><span class="p">)</span>
<span class="n">wmt_df</span> <span class="o">=</span> <span class="n">wmt_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">1000</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Reusing dataset wmt16 (/home/wgilliam/.cache/huggingface/datasets/wmt16/de-en/1.0.0/0d9fb3e814712c785176ad8cdb9f465fbe6479000ee6546725db30ad8a8b5f8a)
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#hide_output</span>
<span class="n">model_cls</span> <span class="o">=</span> <span class="n">AutoModelForSeq2SeqLM</span>
<span class="n">bsz</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">inp_seq_sz</span> <span class="o">=</span> <span class="mi">128</span><span class="p">;</span> <span class="n">trg_seq_sz</span> <span class="o">=</span> <span class="mi">128</span>

<span class="n">test_results</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">model_name</span> <span class="ow">in</span> <span class="n">pretrained_model_names</span><span class="p">:</span>
    <span class="n">error</span><span class="o">=</span><span class="kc">None</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;=== </span><span class="si">{</span><span class="n">model_name</span><span class="si">}</span><span class="s1"> ===</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    
    <span class="n">hf_tok_kwargs</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">model_name</span> <span class="o">==</span> <span class="s1">&#39;sshleifer/tiny-mbart&#39;</span><span class="p">):</span>
        <span class="n">hf_tok_kwargs</span><span class="p">[</span><span class="s1">&#39;src_lang&#39;</span><span class="p">],</span> <span class="n">hf_tok_kwargs</span><span class="p">[</span><span class="s1">&#39;tgt_lang&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;de_DE&quot;</span><span class="p">,</span> <span class="s2">&quot;en_XX&quot;</span>
            
    
    <span class="n">hf_arch</span><span class="p">,</span> <span class="n">hf_config</span><span class="p">,</span> <span class="n">hf_tokenizer</span><span class="p">,</span> <span class="n">hf_model</span> <span class="o">=</span> <span class="n">BLURR</span><span class="o">.</span><span class="n">get_hf_objects</span><span class="p">(</span><span class="n">model_name</span><span class="p">,</span> 
                                                                      <span class="n">model_cls</span><span class="o">=</span><span class="n">model_cls</span><span class="p">,</span> 
                                                                      <span class="n">tokenizer_kwargs</span><span class="o">=</span><span class="n">hf_tok_kwargs</span><span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;architecture:</span><span class="se">\t</span><span class="si">{</span><span class="n">hf_arch</span><span class="si">}</span><span class="se">\n</span><span class="s1">tokenizer:</span><span class="se">\t</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">hf_tokenizer</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="se">\n</span><span class="s1">model:</span><span class="se">\t\t</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">hf_model</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    
    <span class="c1"># 1. build your DataBlock</span>
    <span class="n">text_gen_kwargs</span> <span class="o">=</span> <span class="n">default_text_gen_kwargs</span><span class="p">(</span><span class="n">hf_config</span><span class="p">,</span> <span class="n">hf_model</span><span class="p">,</span> <span class="n">task</span><span class="o">=</span><span class="s1">&#39;translation&#39;</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">add_t5_prefix</span><span class="p">(</span><span class="n">inp</span><span class="p">):</span> <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;translate German to English: </span><span class="si">{</span><span class="n">inp</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">if</span> <span class="p">(</span><span class="n">hf_arch</span> <span class="o">==</span> <span class="s1">&#39;t5&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="n">inp</span>
    
    <span class="n">before_batch_tfm</span> <span class="o">=</span> <span class="n">HF_Seq2SeqBeforeBatchTransform</span><span class="p">(</span><span class="n">hf_arch</span><span class="p">,</span> <span class="n">hf_config</span><span class="p">,</span> <span class="n">hf_tokenizer</span><span class="p">,</span> <span class="n">hf_model</span><span class="p">,</span>
                                                      <span class="n">padding</span><span class="o">=</span><span class="s1">&#39;max_length&#39;</span><span class="p">,</span> 
                                                      <span class="n">max_length</span><span class="o">=</span><span class="n">inp_seq_sz</span><span class="p">,</span> 
                                                      <span class="n">max_target_length</span><span class="o">=</span><span class="n">trg_seq_sz</span><span class="p">,</span> 
                                                      <span class="n">text_gen_kwargs</span><span class="o">=</span><span class="n">text_gen_kwargs</span><span class="p">)</span>
    
    <span class="n">blocks</span> <span class="o">=</span> <span class="p">(</span><span class="n">HF_Seq2SeqBlock</span><span class="p">(</span><span class="n">before_batch_tfm</span><span class="o">=</span><span class="n">before_batch_tfm</span><span class="p">),</span> <span class="n">noop</span><span class="p">)</span>
    <span class="n">dblock</span> <span class="o">=</span> <span class="n">DataBlock</span><span class="p">(</span><span class="n">blocks</span><span class="o">=</span><span class="n">blocks</span><span class="p">,</span> 
                   <span class="n">get_x</span><span class="o">=</span><span class="n">Pipeline</span><span class="p">([</span><span class="n">ColReader</span><span class="p">(</span><span class="s1">&#39;de&#39;</span><span class="p">),</span> <span class="n">add_t5_prefix</span><span class="p">]),</span> 
                   <span class="n">get_y</span><span class="o">=</span><span class="n">ColReader</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">),</span> 
                   <span class="n">splitter</span><span class="o">=</span><span class="n">RandomSplitter</span><span class="p">())</span>

    <span class="n">dls</span> <span class="o">=</span> <span class="n">dblock</span><span class="o">.</span><span class="n">dataloaders</span><span class="p">(</span><span class="n">wmt_df</span><span class="p">,</span> <span class="n">bs</span><span class="o">=</span><span class="n">bsz</span><span class="p">)</span> 
    <span class="n">b</span> <span class="o">=</span> <span class="n">dls</span><span class="o">.</span><span class="n">one_batch</span><span class="p">()</span>

    <span class="c1"># 2. build your Learner</span>
    <span class="n">seq2seq_metrics</span> <span class="o">=</span> <span class="p">{}</span>
    
    <span class="n">model</span> <span class="o">=</span> <span class="n">HF_BaseModelWrapper</span><span class="p">(</span><span class="n">hf_model</span><span class="p">)</span>
    <span class="n">fit_cbs</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">ShortEpochCallback</span><span class="p">(</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">short_valid</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> 
        <span class="n">HF_Seq2SeqMetricsCallback</span><span class="p">(</span><span class="n">custom_metrics</span><span class="o">=</span><span class="n">seq2seq_metrics</span><span class="p">)</span>
    <span class="p">]</span>

    <span class="n">learn</span> <span class="o">=</span> <span class="n">Learner</span><span class="p">(</span><span class="n">dls</span><span class="p">,</span> 
                    <span class="n">model</span><span class="p">,</span>
                    <span class="n">opt_func</span><span class="o">=</span><span class="n">ranger</span><span class="p">,</span>
                    <span class="n">loss_func</span><span class="o">=</span><span class="n">HF_PreCalculatedLoss</span><span class="p">(),</span>
                    <span class="n">cbs</span><span class="o">=</span><span class="p">[</span><span class="n">HF_BaseModelCallback</span><span class="p">],</span>
                    <span class="n">splitter</span><span class="o">=</span><span class="n">partial</span><span class="p">(</span><span class="n">seq2seq_splitter</span><span class="p">,</span> <span class="n">arch</span><span class="o">=</span><span class="n">hf_arch</span><span class="p">))</span><span class="o">.</span><span class="n">to_fp16</span><span class="p">()</span>

    <span class="n">learn</span><span class="o">.</span><span class="n">create_opt</span><span class="p">()</span> 
    <span class="n">learn</span><span class="o">.</span><span class="n">freeze</span><span class="p">()</span>
    
    <span class="c1"># 3. Run your tests</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;*** TESTING DataLoaders ***</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">test_eq</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">test_eq</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;input_ids&#39;</span><span class="p">]),</span> <span class="n">bsz</span><span class="p">)</span>
        <span class="n">test_eq</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;input_ids&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">torch</span><span class="o">.</span><span class="n">Size</span><span class="p">([</span><span class="n">bsz</span><span class="p">,</span> <span class="n">inp_seq_sz</span><span class="p">]))</span>
        <span class="n">test_eq</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">bsz</span><span class="p">)</span>

<span class="c1">#         print(&#39;*** TESTING One pass through the model ***&#39;)</span>
<span class="c1">#         preds = learn.model(b[0])</span>
<span class="c1">#         test_eq(preds[1].shape[0], bsz)</span>
<span class="c1">#         test_eq(preds[1].shape[2], hf_config.vocab_size)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;*** TESTING Training/Results ***&#39;</span><span class="p">)</span>
        <span class="n">learn</span><span class="o">.</span><span class="n">fit_one_cycle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">lr_max</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">,</span> <span class="n">cbs</span><span class="o">=</span><span class="n">fit_cbs</span><span class="p">)</span>

        <span class="n">test_results</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">hf_arch</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">hf_tokenizer</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">hf_model</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="s1">&#39;PASSED&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span>
        <span class="n">learn</span><span class="o">.</span><span class="n">show_results</span><span class="p">(</span><span class="n">learner</span><span class="o">=</span><span class="n">learn</span><span class="p">,</span> <span class="n">max_n</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">input_trunc_at</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">target_trunc_at</span><span class="o">=</span><span class="mi">250</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
        <span class="n">test_results</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">hf_arch</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">hf_tokenizer</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">hf_model</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="s1">&#39;FAILED&#39;</span><span class="p">,</span> <span class="n">err</span><span class="p">))</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="c1"># cleanup</span>
        <span class="k">del</span> <span class="n">learn</span><span class="p">;</span> <span class="n">torch</span><span class="o">.</span><span class="n">cuda</span><span class="o">.</span><span class="n">empty_cache</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>arch</th>
      <th>tokenizer</th>
      <th>model_name</th>
      <th>result</th>
      <th>error</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>bart</td>
      <td>BartTokenizerFast</td>
      <td>BartForConditionalGeneration</td>
      <td>PASSED</td>
      <td></td>
    </tr>
    <tr>
      <th>1</th>
      <td>fsmt</td>
      <td>FSMTTokenizer</td>
      <td>FSMTForConditionalGeneration</td>
      <td>PASSED</td>
      <td></td>
    </tr>
    <tr>
      <th>2</th>
      <td>marian</td>
      <td>MarianTokenizer</td>
      <td>MarianMTModel</td>
      <td>PASSED</td>
      <td></td>
    </tr>
    <tr>
      <th>3</th>
      <td>t5</td>
      <td>T5TokenizerFast</td>
      <td>T5ForConditionalGeneration</td>
      <td>PASSED</td>
      <td></td>
    </tr>
  </tbody>
</table>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Summary">Summary<a class="anchor-link" href="#Summary"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This module includes the fundamental bits to use Blurr for translation tasks training and inference.</p>

</div>
</div>
</div>
</div>
 

